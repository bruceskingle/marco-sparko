query MeterAgreements($meterNodeId: ID!, $validAfter: DateTime) {
  node(id: $meterNodeId) {
    ... on ElectricityMeterType {
      meterPoint {
        mpan
        agreements(excludeFuture: false, validAfter: $validAfter) {
          id
          validFrom
          validTo
          tariff {
            ... on HalfHourlyTariff {
              displayName
              __typename
            }
            __typename
          }
          __typename
        }
        __typename
      }
      __typename
    }
    ... on GasMeterType {
      meterPoint {
        agreements(excludeFuture: false, validAfter: $validAfter) {
          id
          validFrom
          validTo
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}